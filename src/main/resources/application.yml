server:
  port: ${PORT:8080}

spring:
  application:
    name: venifretes-backend

  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  jpa:
    open-in-view: false
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
        jdbc:
          time_zone: America/Sao_Paulo

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

  jackson:
    time-zone: America/Sao_Paulo
    serialization:
      write-dates-as-timestamps: false

# JWT Configuration
jwt:
  secret: ${JWT_SECRET:venifretes-secret-key-change-in-production-min-512-bits}
  expiration: 86400000 # 24 hours in ms
  refresh-expiration: 604800000 # 7 days in ms

# File Upload
file:
  upload-dir: ${FILE_UPLOAD_DIR:./uploads}
  max-size: 10485760 # 10MB

# CORS
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# WhatsApp (Future Integration)
whatsapp:
  enabled: false
  api-url: ${WHATSAPP_API_URL:}
  api-token: ${WHATSAPP_API_TOKEN:}

# PagBank
pagbank:
  api-url: ${PAGBANK_API_URL:https://sandbox.api.pagseguro.com}
  token: ${PAGBANK_TOKEN:}
  webhook-token: ${PAGBANK_WEBHOOK_TOKEN:}

# Springdoc OpenAPI
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    operations-sorter: alpha
    tags-sorter: alpha

# Actuator
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized
